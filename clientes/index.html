<!DOCTYPE html>
	<head>
	  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="../node_modules/angular-material/angular-material.css">
		<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <style type="text/css">
			body{
				
				padding-top: 80px; /* Altura do menu */
				overflow-y: hidden;
			}
            .toolbar {
			
				position: fixed;
				top: 0;
				background-color: #d11111 !important;
				box-shadow: 0px 2px 5px black;

            }
			.labelCLientes {

				font-size: 20px;
				color: dimgrey;
				margin-left: 25px;
				
			}
			.clientesControler {
				padding:15px;
			}
			.clientes {

				margin-top: 50px;

			}
        </style>
	</head>
	<body ng-app="Clientes">
		<md-toolbar md-scroll-shrink ng-if="true" class="toolbar">
			<div class="md-toolbar-tools">
			  <h2 flex md-truncate>Minas Retifica</h2>
			</div>
		</md-toolbar>
		<br>

		
		<label class="labelCLientes">
			Clientes
		</label>
		<br><br><br><br><br><br>

		
		<div class="conteudoCliente" layout="column" style="height:300px" ng-cloak>
			<md-content flex > 
				
				<div flex class="clientesControler" ng-controller="ClientesController">
					
					<md-list-item  ng-repeat="cliente in clientes" class="secondary-button-padding" ng-click="doPrimaryAction($event)">
						<p>{{ cliente.nome }}</p>
						<p>{{ cliente.telefone }}</p>
						<p>{{ cliente.endereco }}</p>
						<md-button ng-click="editarCliente()" class="md-icon-button" aria-label="More">
							<md-icon>edit</md-icon>
						</md-button>
						<md-button ng-click="editarCliente()" class="md-icon-button" aria-label="More">
							<md-icon>delete</md-icon>
						</md-button>
					</md-list-item>
			
				</div>
	
			</md-content>
		</div>
		
		<script src="../node_modules/angular/angular.js"></script>
		<script src="../node_modules/angular-aria/angular-aria.js"></script>
		<script src="../node_modules/angular-animate/angular-animate.js"></script>
		<script src="../node_modules/angular-messages/angular-messages.js"></script>
		<script src="../node_modules/angular-material/angular-material.js"></script>
		<script>
		// Include app dependency on ngMaterial
			var Clientes = angular.module('Clientes', ['ngMaterial', 'ngMessages']);
			
			Clientes.controller("ClientesController", ['$scope','$http', function($scope, $http) {
			    var vm = $scope;
				
				vm.atualizarCliente = function (){

					alert('Editando cliente');

				};
				vm.deletarCliente = function (){

					alert('Editando cliente');

				};
				vm.inserirCliente = function (){

					alert('Editando cliente');

				};
				vm.buscarClientes = function(){

					$http.get('http://localhost/oficina/clientes', {}).then(function(resposta){

						vm.clientes = resposta.data;

					}, function(erro){

						alert(erro);

					});

				}
				vm.buscarClientes();
			
			}]);
		
		</script>
	</body>
</html>